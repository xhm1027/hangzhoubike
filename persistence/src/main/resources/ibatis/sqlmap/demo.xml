<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="com.xhm.hangzhoubike.dao.DemoDO">
    <typeAlias alias="demoDO" type="com.xhm.hangzhoubike.dao.DemoDO"/>
    <resultMap id="demoDO.rm" class="demoDO">
        <result column="locate" property="locate"/>
    </resultMap>

    <!-- selector -->
    <sql id="demoDO.selector">
		SELECT
		locate
		FROM demo
    </sql>
    <!-- END selector -->

    <!-- counter -->
    <sql id="demoDO.counter">
		SELECT COUNT(*) FROM demo
    </sql>
    <!-- END counter -->

    <!-- 条件片段 -->
    <sql id="demoDO.get_segment">
        <dynamic prepend="WHERE">
            <isNotNull prepend="AND" property="locate">
                locate = #locate#
            </isNotNull>
        </dynamic>
    </sql>

    <!-- INSERT -->
    <insert id="create" parameterClass="demoDO">
        INSERT INTO demo(locate)
        VALUES(#locate#)
    </insert>
    <!-- ENE INSERT -->

   

    <!-- GET -->
    <select id="load" resultMap="demoDO.rm">
        <include refid="demoDO.selector"/>
        WHERE locate = #locate#
    </select>

    <select id="find" parameterClass="demoDO" resultMap="demoDO.rm">
        <include refid="demoDO.selector"/>
        <include refid="demoDO.get_segment"/>
    </select>
    <!-- END GET -->

    <!-- 删除 -->
    <delete id="delete" parameterClass="String">
    	DELETE FROM demoDO where locate = #locate#
    </delete>
    <!-- END 删除 -->
</sqlMap>

